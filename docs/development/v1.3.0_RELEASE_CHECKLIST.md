# VideoAnnotator v1.3.0 Release Checklist

**Target Release Date**: November 2025 (Early November)
**Current Status**: Feature Complete - Final Release Preparation
**Estimated Time**: 8-12 hours remaining

---

## üéØ Release Objectives

- ‚úÖ Feature complete (merged October 30, 2025)
- ‚è≥ Final testing and validation
- ‚è≥ Version and documentation updates
- ‚è≥ Release packaging and tagging

---

## ‚úÖ Pre-Release Checklist

### 1. Code Quality & Testing (4-6 hours)

#### 1.1 Full Test Suite

- [ ] **Run complete test suite**
  ```bash
  uv run pytest -v --tb=short
  ```
  - [ ] All tests passing (currently 234 passing)
  - [ ] No skipped critical tests
  - [ ] No warnings about deprecated features

- [ ] **Run tests with coverage**
  ```bash
  uv run pytest --cov=src/videoannotator --cov-report=html --cov-report=term
  ```
  - [ ] Verify ‚â•80% overall coverage maintained
  - [ ] Check module-specific thresholds met (API 90%, pipelines 80%, etc.)

- [ ] **Run coverage validation script**
  ```bash
  uv run python scripts/validate_coverage.py --verbose
  ```
  - [ ] All module thresholds passing
  - [ ] No coverage regressions from v1.3.0-dev

**Estimated Time**: 2 hours

#### 1.2 Pre-commit Hooks & Linting

- [ ] **Run all pre-commit hooks**
  ```bash
  uv run pre-commit run --all-files
  ```
  - [ ] Trailing whitespace fixed
  - [ ] End of file newlines correct
  - [ ] No merge conflicts
  - [ ] All executables have proper shebangs

- [ ] **Run ruff linting**
  ```bash
  uv run ruff check src/ tests/
  ```
  - [ ] No linting errors
  - [ ] Address any new warnings

- [ ] **Run ruff formatting**
  ```bash
  uv run ruff format src/ tests/ scripts/
  ```
  - [ ] All files formatted consistently

- [ ] **Run mypy type checking** (on strict modules)
  ```bash
  uv run mypy src/videoannotator/api/
  ```
  - [ ] No type errors in API modules
  - [ ] Check for any new type issues

**Estimated Time**: 1 hour

#### 1.3 Integration Testing

- [ ] **Installation verification**
  ```bash
  uv run python scripts/verify_installation.py --verbose
  ```
  - [ ] All checks passing
  - [ ] Python version OK
  - [ ] FFmpeg available
  - [ ] Package imports work
  - [ ] Database writable

- [ ] **Diagnostic checks**
  ```bash
  uv run videoannotator diagnose all
  ```
  - [ ] System check passes
  - [ ] GPU detection working (if available)
  - [ ] Storage checks pass
  - [ ] Database check passes

- [ ] **API health check**
  ```bash
  # Start server in background
  uv run videoannotator server &
  sleep 5
  curl http://localhost:8000/api/v1/system/health?detailed=true
  ```
  - [ ] Server starts successfully
  - [ ] Health endpoint returns 200
  - [ ] All subsystems healthy

- [ ] **Submit test job**
  - [ ] Create test video or use example
  - [ ] Submit via API with valid pipeline
  - [ ] Job completes successfully
  - [ ] Results accessible and correct format

**Estimated Time**: 1.5 hours

---

### 2. Documentation Review (2-3 hours)

#### 2.1 Core Documentation Files

- [ ] **README.md**
  - [ ] Version badge updated to v1.3.0
  - [ ] Installation instructions accurate
  - [ ] Quick start example works
  - [ ] Links to documentation valid
  - [ ] Screenshots up-to-date (if any)

- [ ] **CHANGELOG.md**
  - [ ] v1.3.0 section complete with release date
  - [ ] All major features documented
  - [ ] Breaking changes clearly marked
  - [ ] Migration guide referenced
  - [ ] Acknowledgments included

- [ ] **UPGRADING_TO_v1.3.0.md**
  - [ ] Migration steps clear and tested
  - [ ] Import path examples correct
  - [ ] Environment variable changes documented
  - [ ] Breaking changes explained

- [ ] **CONTRIBUTING.md**
  - [ ] Contribution workflow up-to-date
  - [ ] Development setup instructions accurate
  - [ ] Testing guidelines current

**Estimated Time**: 1 hour

#### 2.2 API & User Documentation

- [ ] **API Documentation**
  - [ ] All endpoints documented with examples
  - [ ] Swagger UI accessible at `/docs`
  - [ ] curl examples include proper auth headers
  - [ ] Error responses documented

- [ ] **Getting Started Guides**
  - [ ] Installation works on fresh system
  - [ ] Quick start completes in <10 minutes
  - [ ] Troubleshooting guide addresses common issues

- [ ] **Security Documentation**
  - [ ] `docs/security/` complete and accurate
  - [ ] Authentication setup clear
  - [ ] CORS configuration documented
  - [ ] Production checklist available

**Estimated Time**: 1 hour

#### 2.3 Generated Documentation

- [ ] **Pipeline Specifications**
  ```bash
  uv run python scripts/generate_pipeline_specs.py
  ```
  - [ ] `docs/pipelines_spec.md` regenerated
  - [ ] All pipelines documented
  - [ ] No diffs indicate specs are current
  - [ ] Commit if updated

**Estimated Time**: 0.5 hours

---

### 3. Version Update (0.5 hours)

#### 3.1 Update Version Number

- [ ] **src/videoannotator/version.py**
  - [ ] Change `__version__` from `"1.3.0-dev"` to `"1.3.0"`
  - [ ] Update `__version_info__` to `(1, 3, 0)`
  - [ ] Set `__release_date__` to actual release date (e.g., "2025-11-05")
  - [ ] Remove or update development notes in comments

- [ ] **pyproject.toml** (if version defined there)
  - [ ] Verify version matches `1.3.0`

- [ ] **Commit version update**
  ```bash
  git add src/videoannotator/version.py
  git commit -m "chore: Release v1.3.0"
  ```

**Estimated Time**: 0.5 hours

---

### 4. Final Validation (1-2 hours)

#### 4.1 Clean Install Testing

- [ ] **Test in fresh environment**
  ```bash
  # Create new test directory outside workspace
  cd /tmp
  python -m venv test_v130
  source test_v130/bin/activate

  # Install from local package
  cd /workspaces/VideoAnnotator
  pip install -e .

  # Test installation
  videoannotator --version
  videoannotator diagnose system
  ```
  - [ ] Installation succeeds
  - [ ] CLI commands work
  - [ ] Version displays correctly

- [ ] **Test package build**
  ```bash
  uv build
  ```
  - [ ] Build completes without errors
  - [ ] Wheel and source dist created in `dist/`

**Estimated Time**: 1 hour

#### 4.2 Platform-Specific Testing (if possible)

- [ ] **Linux** (Ubuntu 22.04 or 24.04)
  - [ ] Installation works
  - [ ] Tests pass
  - [ ] Example job completes

- [ ] **macOS** (if available)
  - [ ] Installation works
  - [ ] Tests pass
  - [ ] Example job completes

- [ ] **Windows WSL2** (if available)
  - [ ] Installation works
  - [ ] Tests pass
  - [ ] Example job completes

**Estimated Time**: 1 hour (if testing multiple platforms)

---

### 5. Release Preparation (1-2 hours)

#### 5.1 Release Notes

- [ ] **Create release notes document**
  - [ ] Summary of v1.3.0 (2-3 paragraphs)
  - [ ] Highlight: All 6 critical issues resolved
  - [ ] Major features (cancellation, storage, validation, security)
  - [ ] Breaking changes with migration guide link
  - [ ] Installation instructions
  - [ ] Upgrade instructions from v1.2.x
  - [ ] Known issues (if any)
  - [ ] Acknowledgments

- [ ] **Finalize CHANGELOG.md**
  - [ ] Add exact release date to v1.3.0 heading
  - [ ] Review for completeness and accuracy
  - [ ] Commit final CHANGELOG

**Estimated Time**: 1 hour

#### 5.2 Git Tag and Release

- [ ] **Create annotated git tag**
  ```bash
  git tag -a v1.3.0 -m "Release v1.3.0: Production Reliability & Critical Fixes

Major Features:
- Job cancellation with GPU cleanup
- Persistent storage with retention policies
- Schema-based config validation
- Secure-by-default configuration
- Standardized error envelope
- Package namespace migration (src/videoannotator/)
- Enhanced diagnostics and health monitoring

Achievement: 56/67 tasks (84%), 234 tests passing

All 6 critical production blockers resolved.
Ready for JOSS publication preparation (v1.4.0)."
  ```

- [ ] **Push tag to origin**
  ```bash
  git push origin v1.3.0
  ```

- [ ] **Create GitHub Release**
  - [ ] Go to GitHub repository ‚Üí Releases ‚Üí Draft new release
  - [ ] Select tag: v1.3.0
  - [ ] Title: "VideoAnnotator v1.3.0 - Production Reliability & Critical Fixes"
  - [ ] Description: Use prepared release notes
  - [ ] Attach assets (optional):
    - [ ] Built wheel (`dist/*.whl`)
    - [ ] Source distribution (`dist/*.tar.gz`)
  - [ ] Publish release

**Estimated Time**: 0.5 hours

---

### 6. Post-Release (0.5-1 hour)

#### 6.1 Update Documentation Sites

- [ ] **Update any external documentation** (if applicable)
  - [ ] ReadTheDocs (if configured)
  - [ ] GitHub Pages (if used)
  - [ ] Project website (if exists)

#### 6.2 Announcements

- [ ] **Internal stakeholders**
  - [ ] Notify Video Annotation Viewer team
  - [ ] Share release notes with collaborators

- [ ] **External communication** (if applicable)
  - [ ] GitHub Discussions announcement
  - [ ] Update README with release badge
  - [ ] Social media (if applicable)

**Estimated Time**: 0.5 hours

---

## üìã Quick Validation Commands

Run these in sequence for final pre-release validation:

```bash
# 1. Full test suite
uv run pytest -v

# 2. Coverage validation
uv run python scripts/validate_coverage.py --verbose

# 3. Pre-commit checks
uv run pre-commit run --all-files

# 4. Installation verification
uv run python scripts/verify_installation.py --verbose

# 5. Diagnostic checks
uv run videoannotator diagnose all

# 6. Regenerate pipeline specs
uv run python scripts/generate_pipeline_specs.py

# 7. Build package
uv build

# 8. Check version
uv run python -c "from videoannotator.version import __version__; print(__version__)"
```

---

## ‚ö†Ô∏è Critical Checks Before Tagging

**DO NOT create the release tag until ALL of these are complete:**

- [ ] All tests passing (234+)
- [ ] Coverage ‚â•80% on all modules
- [ ] Pre-commit hooks pass on all files
- [ ] Installation verification passes
- [ ] Version updated to `1.3.0` (not `1.3.0-dev`)
- [ ] CHANGELOG.md has release date
- [ ] Release notes prepared
- [ ] At least one successful test on fresh install

---

## üéâ Post-Release Success Criteria

Within first week after release:

- [ ] No critical bugs reported
- [ ] Installation success confirmed by 2+ users
- [ ] Documentation accessible and accurate
- [ ] v1.4.0 planning can begin

---

## üìû Need Help?

If issues are discovered during release preparation:

1. **Critical Issues**: Fix immediately, re-test, then proceed
2. **Minor Issues**: Document in "Known Issues" section, plan for v1.3.1
3. **Documentation Issues**: Fix and update before tagging

---

## üîÑ Rollback Plan

If critical issues discovered after release:

1. Do NOT delete the tag
2. Create hotfix branch from v1.3.0 tag
3. Fix issue and test thoroughly
4. Release as v1.3.1 with clear notes about the fix
5. Update v1.3.0 release notes to recommend upgrading to v1.3.1

---

**Last Updated**: October 30, 2025
**Release Manager**: Development Team
**Estimated Total Time**: 8-12 hours
